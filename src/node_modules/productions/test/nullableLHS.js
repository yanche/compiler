
var prod = require('productions');
var utility = require('utility');
var assert = require('assert');

describe('non terminal able to produce epsilon', function () {
    it('simple 1', function () {
        var pset = prod.createProdSet([
            'E -> T + E | T',
            'T -> int | int * T | ( E )'
        ]);
        assert.equal(0, [...pset.nullableNonTerminals()].length);
    });

    it('simple 2', function () {
        var pset = prod.createProdSet([
            'E -> '
        ]);
        assert.equal(true, utility.arrayEquivalent([...pset.nullableNonTerminals()], ['E']));
    });

    it('simple 3', function () {
        var pset = prod.createProdSet([
            'T -> E | int',
            'E -> '
        ]);
        assert.equal(true, utility.arrayEquivalent([...pset.nullableNonTerminals()], ['T', 'E']));
    });

    it('simple 4', function () {
        var pset = prod.createProdSet([
            'A -> T',
            'T -> E X | int',
            'X -> q | ',
            'E -> | m'
        ]);
        assert.equal(true, utility.arrayEquivalent([...pset.nullableNonTerminals()], ['T', 'E', 'A', 'X']));
    });

    it('simple 5', function () {
        var pset = prod.createProdSet([
            'TT -> EE | inXt',
            'EE -> '
        ]);
        assert.equal(true, utility.arrayEquivalent([...pset.nullableNonTerminals()], ['TT', 'EE']));
    });
});