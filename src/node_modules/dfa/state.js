
var utility = require('utility');

var State = function (id) {
    this._id = id;
    this._tmap = new Map(); //transition map
};
//return a state number
State.prototype.getTransition = function (symbol) {
    return this._tmap.get(symbol);
};
State.prototype.getAllTransitions = function () {
    return [...this._tmap];
};
State.prototype.addTransition = function (symbol, statenum) {
    if (!utility.isNonNegInt(statenum))
        throw new Error('state number must be non-neg integer: ' + statenum);
    if (!utility.isStr(symbol))
        throw new Error('bad transition symbol: ' + symbol);
    if (this._tmap.has(symbol))
        throw new Error('already has transition by given symbol: ' + symbol);
    this._tmap.set(symbol, statenum);
    return this;
};
State.prototype.getId = function () {
    return this._id;
};

module.exports = State;
